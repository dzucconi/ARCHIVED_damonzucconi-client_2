@import 'common'

$sidebar: (width: (scale(1) * 18), toggle_width: scale(4))

.Sidebar
  position: fixed
  z-index: z('sidebar')
  top: 0
  right: 0
  height: 100%
  transform: translateZ(0)

  &__supplemental
    position: fixed
    top: 0
    right: map-get($sidebar, 'toggle_width')

  &__toggle
    display: block
    position: fixed
    top: 0
    right: 0
    background-color: black
    cursor: pointer
    user-select: none
    width: map-get($sidebar, 'toggle_width')
    height: scale(3)

    > span
      width: scale(2)
      height: 2px
      top: 50%
      left: 50%
      transform: translate(-50%, -50%)

      &,
      &:before,
      &:after
        display: block
        position: absolute
        background-color: white

      &:before,
      &:after
        content: ''
        width: 100%
        height: 100%

      &:before
        top: 200%

      &:after
        bottom: 200%

    &:hover
      > span
        &,
        &:before,
        &:after
          background-color: gray

  &__menu
    display: none
    position: fixed
    top: 0
    bottom: 0
    right: 0
    width: map-get($sidebar, 'width')
    text-align: center
    overflow-y: auto
    -webkit-overflow-scrolling: touch
    background-color: black

    h1
      margin: 0

    a,
    span
      display: block
      color: gray
      padding: (scale(1) / 1.25) (scale(2) / 1.5)
      +break-word()

    a
      &:hover
        color: white

    span
      background-color: white
      color: black
      cursor: default

    hr
      height: 1px
      margin: scale(1) auto
      background-color: darken(white, 75%)
      border: none

    &__link
      &--clicked
        background-color: white !important
        color: black !important

      &--deactivating
        background-color: gray !important

      &--emphasis
        text-decoration: underline

  &--open
    .Sidebar__supplemental
      right: map-get($sidebar, 'width') + map-get($sidebar, 'toggle_width')

    .Sidebar__toggle
      right: map-get($sidebar, 'width')
      background-color: white

      > span
        background-color: black

        &:before,
        &:after
          display: none

    .Sidebar__menu
      display: block
